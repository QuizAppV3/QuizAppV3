<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>QuizAppV3 ‚Äî D√©veloppement informatique</title>
  <style>
    :root {
      --bg: #0f1724;
      --card: #0b1330;
      --accent: #6ee7b7;
      --accent-alt: #60a5fa;
      --muted: #94a3b8;
      --text: #e6eef8;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      color: var(--text);
      background: linear-gradient(180deg, #071028 0%, #071426 60%);
      background-size: 200% 200%;
      animation: bgMove 20s ease infinite;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }

    @keyframes bgMove {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    .wrap {
      width: 100%;
      max-width: 900px;
      animation: fadeIn 1s ease forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* --- Header --- */
    header {
      display: flex;
      align-items: center;
      gap: 14px;
      margin-bottom: 20px;
    }

    .logo {
      width: 64px;
      height: 64px;
      border-radius: 14px;
      background: linear-gradient(135deg, var(--accent), var(--accent-alt));
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 20px;
      color: #051025;
      box-shadow: 0 6px 30px rgba(0, 0, 0, .5),
        0 0 20px var(--accent-alt),
        0 0 40px var(--accent);
      animation: pulse 3s infinite ease-in-out;
    }

    @keyframes pulse {

      0%,
      100% {
        box-shadow: 0 0 15px var(--accent);
      }

      50% {
        box-shadow: 0 0 25px var(--accent-alt);
      }
    }

    h1 {
      margin: 0;
      font-size: 24px;
      background: linear-gradient(90deg, var(--accent), var(--accent-alt));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    p.lead {
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }

    /* --- Card --- */
    .card {
      background: linear-gradient(180deg, rgba(255, 255, 255, .04), rgba(255, 255, 255, .01));
      padding: 24px;
      border-radius: 16px;
      box-shadow: 0 10px 40px rgba(2, 6, 23, .6);
      border: 1px solid rgba(255, 255, 255, .06);
      transition: transform .3s ease;
    }

    .card:hover {
      transform: translateY(-4px);
    }

    /* --- Question meta --- */
    .question-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .progress {
      height: 10px;
      flex: 1;
      margin-left: 12px;
      background: rgba(255, 255, 255, .08);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress>i {
      display: block;
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--accent), var(--accent-alt));
      transition: width .5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* --- Question --- */
    .q {
      font-size: 18px;
      margin: 16px 0;
      line-height: 1.4;
    }

    /* --- Options --- */
    .options {
      display: grid;
      gap: 12px;
    }

    .option {
      background: rgba(255, 255, 255, .03);
      padding: 12px 14px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, .05);
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: all .3s ease;
    }

    .option:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 6px 20px rgba(2, 6, 23, .6),
        0 0 12px var(--accent-alt);
      border-color: var(--accent-alt);
    }

    .option input {
      transform: scale(1.15);
    }

    /* --- Controls --- */
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 18px;
      gap: 12px;
    }

    .btn {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, .1);
      padding: 10px 16px;
      border-radius: 10px;
      color: var(--accent);
      cursor: pointer;
      font-size: 14px;
      transition: all .25s ease;
    }

    .btn:hover {
      border-color: var(--accent);
      transform: translateY(-2px);
      box-shadow: 0 0 12px var(--accent);
    }

    .btn.primary {
      background: linear-gradient(270deg, var(--accent), var(--accent-alt), var(--accent));
      background-size: 200% 200%;
      animation: gradientMove 6s ease infinite;
      color: #051025;
      border: none;
      font-weight: 600;
      box-shadow: 0 0 15px var(--accent-alt);
    }

    @keyframes gradientMove {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    .small {
      font-size: 13px;
      color: var(--muted);
    }

    /* --- Results --- */
    .result {
      display: none;
      flex-direction: column;
      gap: 14px;
      align-items: center;
      text-align: center;
    }

    .score {
      font-size: 40px;
      font-weight: 700;
      color: var(--accent);
      text-shadow: 0 0 15px var(--accent-alt);
    }

    .breakdown {
      width: 100%;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .card-mini {
      background: rgba(255, 255, 255, .04);
      padding: 12px;
      border-radius: 10px;
      border: 1px solid rgba(255, 255, 255, .06);
      transition: transform .2s ease;
    }

    .card-mini:hover {
      transform: translateY(-3px);
    }

    /* --- Footer --- */
    footer {
      margin-top: 16px;
      color: var(--muted);
      font-size: 13px;
      text-align: center;
    }

    /* --- Responsive --- */
    @media (max-width: 620px) {
      .breakdown {
        grid-template-columns: 1fr;
      }

      .logo {
        width: 54px;
        height: 54px;
      }

      .q {
        font-size: 16px;
      }
    }
  </style>

</head>

<body>
  <div class="wrap">
    <header>
      <div class="logo">Qv3</div>
      <div>
        <h1>QuizAppV3 ‚Äî D√©veloppement informatique üöÄ</h1>
        <p class="lead">20 questions ‚Äî Choix multiples ‚Äî Con√ßu pour apprendre vite.</p>
      </div>
    </header>

    <div class="card" id="app">
      <div class="question-meta">
        <div class="small">Question <strong id="qIndex">1</strong>/60</div>
        <div style="display:flex;align-items:center;gap:8px">
          <div class="small">Score: <span id="score">0</span></div>
          <div class="progress" aria-hidden="true"><i id="progressBar"></i></div>
        </div>
      </div>

      <div>
        <div class="q" id="questionText">...chargement</div>
        <div class="options" id="options"></div>
      </div>

      <div class="controls">
        <button class="btn" id="prevBtn">‚¨ÖÔ∏è Pr√©c√©dent</button>
        <div style="display:flex;gap:8px">
          <button class="btn" id="showAnsBtn">Voir r√©ponse</button>
          <button class="btn primary" id="nextBtn">Suivant ‚û°Ô∏è</button>
        </div>
      </div>

      <div class="result" id="resultBox">
        <div class="score" id="finalScore">0 / 60</div>
        <div class="breakdown">
          <div class="card-mini">‚úÖ Corrects: <strong id="correctCount">0</strong></div>
          <div class="card-mini">‚ùå Incorrects: <strong id="wrongCount">0</strong></div>
        </div>
        <div class="small">Explications en bas ‚Äî clique sur une question pour revoir.</div>
        <div style="width:100%;margin-top:8px;text-align:center">
          <button class="btn" id="restartBtn">Refaire le quiz üîÅ</button>
          <button class="btn primary" id="reviewBtn">Revoir les explications</button>
        </div>
      </div>

      <div id="explanations" style="margin-top:14px;display:none"></div>

    </div>

    <footer>Cr√©√© pour toi, Nathan. Bonne chance ! ‚ú®</footer>
  </div>

  <script>
    const quiz = [
      { q: "1) Qu'est-ce que le HTML ?", options: ["Un langage de style", "Un langage de balisage", "Un langage de programmation", "Un framework JavaScript"], answer: 1, explain: "HTML = HyperText Markup Language, structure le contenu d'une page web." },
      { q: "2) Quel est le r√¥le du CSS ?", options: ["G√©rer la logique c√¥t√© serveur", "Styliser la pr√©sentation d'une page web", "Stocker des donn√©es", "Optimiser la base de donn√©es"], answer: 1, explain: "CSS s'occupe des couleurs, mise en page, typographie..." },
      { q: "3) Lequel n'est pas un type de boucle en JavaScript ?", options: ["for", "while", "loop", "do...while"], answer: 2, explain: "Il n'y a pas de boucle native appel√©e 'loop' en JS." },
      { q: "4) Qu'est-ce qu'une fonction pure ?", options: ["Qui utilise le DOM", "Qui n'a pas d'effets secondaires et retourne toujours la m√™me sortie pour la m√™me entr√©e", "Qui modifie une variable globale", "Qui fait des requ√™tes r√©seau"], answer: 1, explain: "Les fonctions pures d√©pendent seulement de leurs arguments et ne modifient rien √† l'ext√©rieur." },
      { q: "5) Que signifie O(n) ?", options: ["Complexit√© constante", "Complexit√© lin√©aire", "Complexit√© quadratique", "Complexit√© logarithmique"], answer: 1, explain: "O(n) : le temps cro√Æt lin√©airement avec la taille n." },
      { q: "6) Git : quelle commande r√©cup√®re les commits distants sans les fusionner ?", options: ["git pull", "git clone", "git fetch", "git merge"], answer: 2, explain: "git fetch t√©l√©charge les donn√©es distantes; git pull fait fetch + merge." },
      { q: "7) REST est :", options: ["Un protocole r√©seau bas-niveau", "Un style architectural pour APIs", "Un langage de programmation", "Une base de donn√©es"], answer: 1, explain: "REST d√©finit des conventions pour construire des APIs HTTP." },
      { q: "8) Quel header HTTP est utilis√© pour indiquer le type de contenu ?", options: ["Authorization", "Content-Type", "Accept-Language", "Cache-Control"], answer: 1, explain: "Content-Type indique 'application/json', 'text/html', etc." },
      { q: "9) SQL injection : c'est quoi ?", options: ["Un test de performance SQL", "Une attaque qui injecte du SQL malveillant", "Un pattern de design", "Un type d'index"], answer: 1, explain: "L'attaque ins√®re du SQL via des entr√©es non-sanitized." },
      { q: "10) Qu'est-ce qu'une closure en JavaScript ?", options: ["Une variable globale", "Une fonction qui rappelle une autre fonction", "Une fonction qui garde l'acc√®s √† son scope m√™me apr√®s ex√©cution", "Un type d'objet"], answer: 2, explain: "Une closure capture son environnement lexical." },
      { q: "11) Quelle est la diff√©rence principale entre let et var en JS ?", options: ["let est bloqu√© par le scope de bloc, var non", "var est asynchrone", "let cr√©e des variables globales", "var n'existe pas en ES5"], answer: 0, explain: "let respecte le scope de bloc { }, var est function-scoped." },
      { q: "12) Quel est l'int√©r√™t d'un index en base de donn√©es ?", options: ["Augmenter la taille de la DB", "Acc√©l√©rer les recherches", "Supprimer les lignes dupliqu√©es", "Crypter les donn√©es"], answer: 1, explain: "Les index acc√©l√®rent les SELECT mais ralentissent parfois INSERT/UPDATE." },
      { q: "13) Quel pattern est utilis√© pour s√©parer interface et impl√©mentation (ex : controller/view) ?", options: ["Singleton", "Factory", "MVC", "Observer"], answer: 2, explain: "MVC = Model-View-Controller s√©pare logique / interface / donn√©es." },
      { q: "14) Que fait 'async/await' en JS ?", options: ["Rend une fonction synchrone", "Permet d'√©crire du code asynchrone fa√ßon synchrone", "Cr√©e des threads", "Bloque l'UI"], answer: 1, explain: "async/await facilite la lecture du code asynchrone bas√© sur Promises." },
      { q: "15) Test unitaire = ?", options: ["Test global du produit", "Test d'une petite unit√© de code (fonction, module)", "Test d'int√©gration r√©seau", "Test de charge"], answer: 1, explain: "Les tests unitaires v√©rifient des fonctions/m√©thodes isol√©es." },
      { q: "16) Qu'est-ce qu'un endpoint API idempotent ?", options: ["Ne modifie jamais rien", "Produit le m√™me effet peu importe le nombre de requ√™tes", "Est toujours s√©curis√©", "Retourne toujours 200"], answer: 1, explain: "Idempotent = r√©p√©ter la m√™me demande donne le m√™me r√©sultat d'√©tat." },
      { q: "17) Qu'est-ce que le DOM ?", options: ["Document Object Model", "Distributed Object Manager", "Data Oriented Module", "Dynamic Onload Manager"], answer: 0, explain: "DOM repr√©sente la structure HTML en objets manipulables par JS." },
      { q: "18) Quel est l'algorithme de tri moyen le plus utilis√© pour son √©quilibre simplicit√©/perf ?", options: ["Bubble sort", "Selection sort", "QuickSort", "Bogosort"], answer: 2, explain: "QuickSort est souvent tr√®s rapide en pratique (pivot choisi correctement)." },
      { q: "19) Que fait CORS ?", options: ["Autorise ou bloque les requ√™tes cross-origin c√¥t√© navigateur", "Chiffre les donn√©es", "G√®re l'authentification", "Compresse les r√©ponses HTTP"], answer: 0, explain: "CORS est un m√©canisme de s√©curit√© du navigateur contr√¥lant l'acc√®s cross-origin." },
      { q: "20) Quelle est la meilleure pratique pour stocker des mots de passe ?", options: ["En clair dans la DB", "Hash + salt (ex: bcrypt)", "Dans un fichier texte", "Base64 encoding"], answer: 1, explain: "Toujours hasher et saler les mots de passe; ne pas stocker en clair." },
      { q: "21) Quelle balise HTML est utilis√©e pour inclure du JavaScript ?", options: ["<style>", "<js>", "<script>", "<code>"], answer: 2, explain: "La balise <script> permet d'inclure ou d'√©crire du JavaScript dans une page HTML." },
      { q: "22) Que signifie JSON ?", options: ["Java Source Object Notation", "JavaScript Object Notation", "Java Syntax Over Network", "Joined Syntax Of Nodes"], answer: 1, explain: "JSON = JavaScript Object Notation, format l√©ger d‚Äô√©change de donn√©es." },
      { q: "23) Que fait 'npm install' ?", options: ["Lance le serveur Node", "Installe les d√©pendances du projet", "Compile le code", "Cr√©e un repo Git"], answer: 1, explain: "npm install installe les packages list√©s dans package.json." },
      { q: "24) Que signifie HTTP ?", options: ["HyperText Transfer Protocol", "High Transfer Text Protocol", "Hyper Tool Transfer Process", "Host Transfer Protocol"], answer: 0, explain: "HTTP = HyperText Transfer Protocol, utilis√© pour le web." },
      { q: "25) Quelle m√©thode SQL ajoute une nouvelle ligne dans une table ?", options: ["INSERT INTO", "ADD NEW", "CREATE ROW", "UPDATE"], answer: 0, explain: "INSERT INTO permet d‚Äôajouter une ligne dans une table SQL." },
      { q: "26) Que fait la commande 'git status' ?", options: ["Montre les fichiers modifi√©s/en attente", "Supprime un commit", "T√©l√©charge les fichiers distants", "Lance le serveur"], answer: 0, explain: "git status montre les fichiers modifi√©s, staged, ou non suivis." },
      { q: "27) En programmation, que fait l‚Äôop√©rateur modulo (%) ?", options: ["Renvoie la division enti√®re", "Renvoie le reste d'une division", "Renvoie le carr√© d'un nombre", "Renvoie l‚Äôarrondi"], answer: 1, explain: "Modulo donne le reste d‚Äôune division enti√®re." },
      { q: "28) Qu‚Äôest-ce qu‚Äôun framework ?", options: ["Un langage", "Une librairie graphique", "Un ensemble d‚Äôoutils structurants pour d√©velopper", "Un IDE"], answer: 2, explain: "Un framework fournit une structure et des conventions pour d√©velopper." },
      { q: "29) Quelle est la diff√©rence entre HTTP et HTTPS ?", options: ["Aucune", "HTTPS chiffre les √©changes", "HTTPS est plus rapide", "HTTP est pour les mobiles"], answer: 1, explain: "HTTPS = HTTP s√©curis√© avec chiffrement SSL/TLS." },
      { q: "30) En CSS, que signifie 'em' ?", options: ["Unit√© relative √† la taille de la police parent", "Unit√© fixe de 10px", "Unit√© bas√©e sur le viewport", "Unit√© absolue"], answer: 0, explain: "1em = taille de la police de l‚Äô√©l√©ment parent." },
      { q: "31) Quelle commande MySQL permet de supprimer une table ?", options: ["DELETE TABLE", "REMOVE", "DROP TABLE", "TRUNCATE"], answer: 2, explain: "DROP TABLE supprime compl√®tement la table et ses donn√©es." },
      { q: "32) Quelle est la valeur par d√©faut de 'flex-direction' en CSS Flexbox ?", options: ["row", "column", "row-reverse", "inherit"], answer: 0, explain: "Par d√©faut, flex-direction est 'row' (alignement horizontal)." },
      { q: "33) Que signifie API ?", options: ["Application Process Integration", "Advanced Program Interface", "Application Programming Interface", "Applied Protocol Instance"], answer: 2, explain: "API = Application Programming Interface, permet d‚Äôinteragir avec un service." },
      { q: "34) En JavaScript, que renvoie typeof null ?", options: ["'null'", "'undefined'", "'object'", "'number'"], answer: 2, explain: "typeof null renvoie 'object' (bug historique de JS)." },
      { q: "35) Que fait 'console.log()' ?", options: ["Affiche dans l‚ÄôUI", "Affiche dans la console d√©veloppeur", "Affiche dans le backend", "Envoie une alerte"], answer: 1, explain: "console.log affiche des infos dans la console du navigateur." },
      { q: "36) Quelle propri√©t√© CSS arrondit les angles ?", options: ["border", "padding", "border-radius", "box-shadow"], answer: 2, explain: "border-radius permet de faire des coins arrondis." },
      { q: "37) Quel est l‚Äôint√©r√™t des promesses (Promises) en JS ?", options: ["Acc√©l√©rer le code", "G√©rer l‚Äôasynchrone plus facilement", "Cr√©er des threads", "Am√©liorer le CSS"], answer: 1, explain: "Les Promises simplifient la gestion des op√©rations asynchrones." },
      { q: "38) Que fait 'SELECT * FROM users;' en SQL ?", options: ["S√©lectionne une colonne", "Supprime la table", "S√©lectionne toutes les colonnes de la table users", "Cr√©e un index"], answer: 2, explain: "SELECT * r√©cup√®re toutes les colonnes de la table." },
      { q: "39) Quelle commande supprime un fichier avec Git ?", options: ["git remove", "git rm", "git delete", "git erase"], answer: 1, explain: "git rm supprime un fichier de l‚Äôindex et du repo." },
      { q: "40) Qu‚Äôest-ce qu‚Äôun IDE ?", options: ["Un compilateur", "Un environnement de d√©veloppement int√©gr√©", "Un langage de programmation", "Un protocole"], answer: 1, explain: "IDE = Integrated Development Environment (ex : VS Code, IntelliJ)." },
      { q: "41) En CSS, que fait 'position: absolute;' ?", options: ["Place l‚Äô√©l√©ment selon le flux normal", "Place l‚Äô√©l√©ment par rapport √† son parent positionn√©", "Le fixe √† l‚Äô√©cran", "Le cache"], answer: 1, explain: "absolute se positionne par rapport au parent le plus proche en positionn√©." },
      { q: "42) Quelle balise HTML d√©finit un lien hypertexte ?", options: ["<a>", "<link>", "<href>", "<url>"], answer: 0, explain: "La balise <a> sert √† cr√©er des liens." },
      { q: "43) En Node.js, que fait 'require()' ?", options: ["Importe un module", "Cr√©e une variable", "Supprime un fichier", "Compile du JS"], answer: 0, explain: "require() sert √† importer un module dans Node.js." },
      { q: "44) Qu‚Äôest-ce qu‚Äôun cookie web ?", options: ["Une base de donn√©es locale", "Un fichier stockant de petites donn√©es c√¥t√© client", "Un script malveillant", "Un plugin"], answer: 1, explain: "Un cookie stocke des infos (session, pr√©f√©rences) c√¥t√© client." },
      { q: "45) Quelle m√©thode JavaScript permet de transformer un JSON en objet ?", options: ["JSON.decode()", "JSON.parse()", "JSON.stringify()", "JSON.toObject()"], answer: 1, explain: "JSON.parse() convertit une cha√Æne JSON en objet JS." },
      { q: "46) Qu‚Äôest-ce que le responsive design ?", options: ["Adapter une page √† plusieurs tailles d‚Äô√©crans", "Rendre le site plus rapide", "Am√©liorer le SEO", "Supprimer les images"], answer: 0, explain: "Le responsive adapte le design selon mobile/tablette/PC." },
      { q: "47) En JavaScript, que fait 'setInterval()' ?", options: ["Ex√©cute une fonction une seule fois", "Ex√©cute une fonction r√©guli√®rement √† intervalle d√©fini", "Supprime une fonction", "Pause le script"], answer: 1, explain: "setInterval ex√©cute une fonction toutes les X ms." },
      { q: "48) Qu‚Äôest-ce que le Big-O ?", options: ["Notation de complexit√© algorithmique", "Notation de base de donn√©es", "Type de variable", "Protocole r√©seau"], answer: 0, explain: "Big-O mesure la complexit√© en temps/espace d‚Äôun algo." },
      { q: "49) En SQL, que fait 'JOIN' ?", options: ["Fusionne deux tables selon une condition", "Ajoute une ligne", "Supprime une colonne", "Trie les r√©sultats"], answer: 0, explain: "JOIN combine des donn√©es de plusieurs tables selon une relation." },
      { q: "50) Quelle m√©thode JS convertit un tableau en cha√Æne ?", options: ["toString()", "array.join()", "concat()", "stringify()"], answer: 1, explain: "join() permet de cr√©er une cha√Æne √† partir des √©l√©ments d‚Äôun tableau." },
      { q: "51) Que fait 'npm init' ?", options: ["Installe Node.js", "Cr√©e un nouveau projet Node et un package.json", "Lance un script", "Met √† jour npm"], answer: 1, explain: "npm init initialise un projet avec package.json." },
      { q: "52) Quelle est la diff√©rence entre HTTP GET et POST ?", options: ["Aucune", "GET envoie dans l‚ÄôURL, POST dans le body", "POST est plus rapide", "GET chiffre automatiquement"], answer: 1, explain: "GET = param√®tres dans l‚ÄôURL, POST = param√®tres dans le body." },
      { q: "53) Quelle commande Linux liste les fichiers ?", options: ["cd", "ls", "pwd", "rm"], answer: 1, explain: "ls affiche les fichiers dans le r√©pertoire courant." },
      { q: "54) Que fait 'const' en JS ?", options: ["Cr√©e une variable constante", "Cr√©e une variable globale", "Cr√©e une fonction", "D√©finit un objet"], answer: 0, explain: "const cr√©e une variable qui ne peut pas √™tre r√©affect√©e." },
      { q: "55) Quelle est la diff√©rence entre frontend et backend ?", options: ["Frontend = client, Backend = serveur", "Frontend = serveur, Backend = client", "Les deux sont identiques", "Backend = base de donn√©es uniquement"], answer: 0, explain: "Frontend g√®re l‚Äôaffichage c√¥t√© client, backend la logique c√¥t√© serveur." },
      { q: "56) Qu‚Äôest-ce qu‚Äôun serveur proxy ?", options: ["Un cache entre client et serveur", "Un langage de programmation", "Un protocole web", "Une BDD"], answer: 0, explain: "Un proxy agit comme interm√©diaire entre client et serveur." },
      { q: "57) En HTML5, quelle balise d√©finit une section ind√©pendante ?", options: ["<div>", "<span>", "<section>", "<article>"], answer: 2, explain: "<section> d√©finit une partie autonome du contenu." },
      { q: "58) Quelle m√©thode supprime le dernier √©l√©ment d‚Äôun tableau JS ?", options: ["pop()", "shift()", "splice()", "remove()"], answer: 0, explain: "pop() enl√®ve le dernier √©l√©ment d‚Äôun tableau." },
      { q: "59) Que fait 'try...catch' en JS ?", options: ["Boucle sur les erreurs", "G√®re les exceptions", "Cr√©e un test unitaire", "Supprime les erreurs"], answer: 1, explain: "try...catch permet de capturer et g√©rer les erreurs." },
      { q: "60) Quelle est la fonction principale de DNS ?", options: ["Stocker des mails", "Traduire des noms de domaine en adresses IP", "S√©curiser HTTP", "H√©berger un site"], answer: 1, explain: "Le DNS fait la correspondance entre noms de domaine et adresses IP." },

    ];

    // State
    let index = 0;
    let score = 0;
    const answers = Array(quiz.length).fill(null);

    const qIndexEl = document.getElementById('qIndex');
    const questionText = document.getElementById('questionText');
    const optionsEl = document.getElementById('options');
    const scoreEl = document.getElementById('score');
    const progressBar = document.getElementById('progressBar');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const showAnsBtn = document.getElementById('showAnsBtn');
    const resultBox = document.getElementById('resultBox');
    const finalScore = document.getElementById('finalScore');
    const correctCountEl = document.getElementById('correctCount');
    const wrongCountEl = document.getElementById('wrongCount');
    const restartBtn = document.getElementById('restartBtn');
    const reviewBtn = document.getElementById('reviewBtn');
    const explanationsEl = document.getElementById('explanations');

    function render() {
      const cur = quiz[index];
      qIndexEl.textContent = index + 1;
      questionText.textContent = cur.q;
      optionsEl.innerHTML = '';
      cur.options.forEach((opt, i) => {
        const div = document.createElement('label');
        div.className = 'option';
        div.innerHTML = `<input type="radio" name="opt" value="${i}" ${answers[index] === i ? 'checked' : ''}/> <span>${opt}</span>`;
        div.onclick = () => select(i);
        optionsEl.appendChild(div);
      });

      progressBar.style.width = `${((index) / quiz.length) * 100}%`;
      prevBtn.disabled = index === 0;
      if (index === quiz.length - 1) { nextBtn.textContent = 'Terminer ‚úÖ'; } else { nextBtn.textContent = 'Suivant ‚û°Ô∏è'; }
      updateScoreDisplay();
    }

    function select(i) {
      // set answer for current q
      if (answers[index] === null) { // first time selecting
        answers[index] = i;
        if (i === quiz[index].answer) { score++; }
      } else {
        // change answer adjust score
        if (answers[index] === quiz[index].answer) score--; // previously correct
        answers[index] = i;
        if (i === quiz[index].answer) score++;
      }
      updateScoreDisplay();
      // mark selected radio
      const radios = optionsEl.querySelectorAll('input');
      radios.forEach(r => r.checked = r.value == i);
      // auto-advance a bit
      setTimeout(() => {
        // do nothing; keep user control
      }, 120);
    }

    function updateScoreDisplay() { scoreEl.textContent = score; }

    prevBtn.addEventListener('click', () => {
      if (index > 0) { index--; render(); }
    });

    nextBtn.addEventListener('click', () => {
      if (index < quiz.length - 1) { index++; render(); }
      else finish();
    });

    showAnsBtn.addEventListener('click', () => {
      const correct = quiz[index].answer;
      const opts = optionsEl.querySelectorAll('.option');
      opts.forEach((el, i) => {
        el.style.border = '1px solid rgba(255,255,255,.02)';
        el.style.opacity = '0.9';
        if (i === correct) { el.style.border = '2px solid var(--accent)'; }
        if (answers[index] === i) { // user choice
          if (i === correct) el.style.background = 'linear-gradient(90deg, rgba(110,231,183,.08), rgba(96,165,250,.06))';
          else el.style.background = 'linear-gradient(90deg, rgba(255,102,102,.04), rgba(255,102,102,.02))';
        }
      });
    });

    function finish() {
      // show result
      resultBox.style.display = 'flex';
      explanationsEl.style.display = 'none';
      finalScore.textContent = `${score} / ${quiz.length}`;
      const corrects = answers.reduce((acc, a, i) => acc + (a === quiz[i].answer ? 1 : 0), 0);
      correctCountEl.textContent = corrects;
      wrongCountEl.textContent = quiz.length - corrects;
      // save highscore
      try { const hs = localStorage.getItem('QuizAppV3_highscore') || 0; if (score > Number(hs)) localStorage.setItem('QuizAppV3_highscore', score); } catch (e) { }
      // build explanations
      buildExplanations();
      // scroll to result
      resultBox.scrollIntoView({ behavior: 'smooth' });
    }

    function buildExplanations() {
      explanationsEl.innerHTML = '';
      quiz.forEach((item, i) => {
        const wrap = document.createElement('div');
        wrap.className = 'card-mini';
        wrap.style.marginTop = '8px';
        const correct = item.answer;
        const user = answers[i] === null ? 'Non r√©pondu' : item.options[answers[i]];
        wrap.innerHTML = `<strong>Q${i + 1}:</strong> ${item.q}<br>
          <em>R√©ponse correcte:</em> ${item.options[correct]}<br>
          <em>Ta r√©ponse:</em> ${user}<br>
          <div style="margin-top:6px;color:var(--muted)">${item.explain}</div>`;
        wrap.onclick = () => { index = i; resultBox.style.display = 'none'; render(); window.scrollTo({ top: 0, behavior: 'smooth' }); };
        explanationsEl.appendChild(wrap);
      });
    }

    restartBtn.addEventListener('click', () => {
      index = 0; score = 0; answers.fill(null); resultBox.style.display = 'none'; explanationsEl.style.display = 'none'; render();
    });

    reviewBtn.addEventListener('click', () => {
      explanationsEl.style.display = 'block';
      explanationsEl.scrollIntoView({ behavior: 'smooth' });
    });

    // init
    render();

  </script>
</body>

</html>
