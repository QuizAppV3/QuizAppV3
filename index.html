<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>QuizAppV3 — Développement informatique</title>
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Interface</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
    
    :root {
      --primary: #00D4FF;
      --secondary: #FF006E;
      --tertiary: #8B5CF6;
      --quaternary: #06FFA5;
      --bg-dark: #0A0118;
      --bg-darker: #050008;
      --glass-bg: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(255, 255, 255, 0.08);
      --text-primary: #FFFFFF;
      --text-secondary: #B4B4B8;
      --glow-primary: rgba(0, 212, 255, 0.4);
      --glow-secondary: rgba(255, 0, 110, 0.4);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: 
        radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 40% 80%, rgba(120, 219, 226, 0.2) 0%, transparent 50%),
        radial-gradient(circle at 0% 100%, rgba(138, 92, 246, 0.2) 0%, transparent 50%),
        linear-gradient(135deg, var(--bg-darker) 0%, var(--bg-dark) 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      overflow-x: hidden;
      position: relative;
      color: var(--text-primary);
    }

    /* Particules flottantes animées */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        radial-gradient(2px 2px at 20px 30px, rgba(255, 255, 255, 0.3), transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(0, 212, 255, 0.4), transparent),
        radial-gradient(1px 1px at 90px 40px, rgba(255, 0, 110, 0.4), transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(138, 92, 246, 0.3), transparent),
        radial-gradient(2px 2px at 160px 30px, rgba(6, 255, 165, 0.3), transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: sparkle 20s linear infinite;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes sparkle {
      from {
        transform: translateY(0px);
      }
      to {
        transform: translateY(-100px);
      }
    }

    .main-container {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 1000px;
      animation: slideInUp 1.2s cubic-bezier(0.23, 1, 0.320, 1);
    }

    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(60px) scale(0.95);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* Header ultra-premium */
    .header {
      display: flex;
      align-items: center;
      gap: 2rem;
      margin-bottom: 3rem;
      padding: 0 1rem;
    }

    .logo-container {
      position: relative;
    }

    .logo {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--primary), var(--secondary), var(--tertiary));
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      font-weight: 900;
      color: white;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
      box-shadow: 
        0 0 60px var(--glow-primary),
        0 0 100px var(--glow-secondary),
        0 20px 40px rgba(0, 0, 0, 0.3);
      animation: logoFloat 4s ease-in-out infinite, logoRotate 15s linear infinite;
      position: relative;
      overflow: hidden;
    }

    .logo::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shine 3s infinite;
    }

    @keyframes logoFloat {
      0%, 100% {
        transform: translateY(0px) scale(1);
      }
      50% {
        transform: translateY(-10px) scale(1.05);
      }
    }

    @keyframes logoRotate {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

    @keyframes shine {
      0% {
        transform: translateX(-100%) translateY(-100%) rotate(45deg);
      }
      100% {
        transform: translateX(100%) translateY(100%) rotate(45deg);
      }
    }

    .title-group h1 {
      font-size: 3rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--primary), var(--secondary), var(--tertiary), var(--quaternary));
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradientShift 4s ease-in-out infinite;
      margin-bottom: 0.5rem;
      text-shadow: 0 0 30px var(--glow-primary);
    }

    .title-group .subtitle {
      font-size: 1.1rem;
      color: var(--text-secondary);
      font-weight: 400;
      opacity: 0.8;
    }

    @keyframes gradientShift {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    /* Carte principale avec effets de verre */
    .quiz-card {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 24px;
      padding: 3rem;
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.25),
        0 0 100px rgba(0, 212, 255, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.23, 1, 0.320, 1);
    }

    .quiz-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 
        0 35px 70px rgba(0, 0, 0, 0.3),
        0 0 120px rgba(0, 212, 255, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.15);
    }

    .quiz-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--primary), var(--secondary), transparent);
      animation: borderFlow 3s linear infinite;
    }

    @keyframes borderFlow {
      0% {
        transform: translateX(-100%);
      }
      100% {
        transform: translateX(100%);
      }
    }

    /* Barre de progression ultra-moderne */
    .progress-section {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      margin-bottom: 2.5rem;
    }

    .question-counter {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--primary);
      text-shadow: 0 0 10px var(--glow-primary);
    }

    .progress-bar {
      flex: 1;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50px;
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      width: 60%;
      background: linear-gradient(90deg, var(--primary), var(--secondary), var(--tertiary));
      border-radius: 50px;
      transition: width 0.8s cubic-bezier(0.23, 1, 0.320, 1);
      position: relative;
      animation: progressGlow 2s ease-in-out infinite;
    }

    @keyframes progressGlow {
      0%, 100% {
        box-shadow: 0 0 20px var(--glow-primary);
      }
      50% {
        box-shadow: 0 0 30px var(--glow-secondary);
      }
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: progressShine 1.5s infinite;
    }

    @keyframes progressShine {
      0% {
        transform: translateX(-100%);
      }
      100% {
        transform: translateX(100%);
      }
    }

    /* Question styling */
    .question {
      font-size: 1.5rem;
      font-weight: 600;
      line-height: 1.5;
      margin-bottom: 2.5rem;
      text-align: center;
      color: var(--text-primary);
    }

    /* Options avec effets holographiques */
    .options-container {
      display: grid;
      gap: 1rem;
      margin-bottom: 2.5rem;
    }

    .option {
      background: rgba(255, 255, 255, 0.04);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      padding: 1.25rem 1.5rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 1rem;
      transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1);
      position: relative;
      overflow: hidden;
    }

    .option::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .option:hover::before {
      left: 100%;
    }

    .option:hover {
      transform: translateY(-4px) scale(1.02);
      background: rgba(255, 255, 255, 0.08);
      border-color: var(--primary);
      box-shadow: 
        0 15px 35px rgba(0, 0, 0, 0.2),
        0 0 30px var(--glow-primary),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .option input[type="radio"] {
      appearance: none;
      width: 24px;
      height: 24px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      position: relative;
      transition: all 0.3s ease;
    }

    .option input[type="radio"]::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 10px;
      height: 10px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 50%;
      transform: translate(-50%, -50%) scale(0);
      transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    .option input[type="radio"]:checked::before {
      transform: translate(-50%, -50%) scale(1);
    }

    .option input[type="radio"]:checked {
      border-color: var(--primary);
      box-shadow: 0 0 15px var(--glow-primary);
    }

    .option-text {
      font-size: 1.1rem;
      font-weight: 500;
      color: var(--text-primary);
    }

    /* Boutons avec effets magnifiques */
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
    }

    .btn {
      padding: 0.875rem 2rem;
      border-radius: 14px;
      border: none;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1);
      position: relative;
      overflow: hidden;
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-secondary);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-primary);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--secondary), var(--tertiary));
      background-size: 200% 200%;
      color: white;
      font-weight: 700;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
      animation: gradientMove 3s ease infinite;
      box-shadow: 
        0 8px 25px rgba(0, 212, 255, 0.3),
        0 0 40px rgba(255, 0, 110, 0.2);
    }

    .btn-primary:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 
        0 15px 35px rgba(0, 212, 255, 0.4),
        0 0 50px rgba(255, 0, 110, 0.3);
    }

    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: left 0.5s ease;
    }

    .btn-primary:hover::before {
      left: 100%;
    }

    @keyframes gradientMove {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    .timer {
      font-size: 0.9rem;
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    /* Section résultats */
    .results-section {
      display: none;
      text-align: center;
      animation: resultsFadeIn 0.8s ease forwards;
    }

    @keyframes resultsFadeIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .score-display {
      font-size: 4rem;
      font-weight: 900;
      background: linear-gradient(135deg, var(--primary), var(--secondary), var(--tertiary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 2rem;
      text-shadow: 0 0 50px var(--glow-primary);
      animation: scoreGlow 2s ease-in-out infinite;
    }

    @keyframes scoreGlow {
      0%, 100% {
        filter: drop-shadow(0 0 30px var(--glow-primary));
      }
      50% {
        filter: drop-shadow(0 0 50px var(--glow-secondary));
      }
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2.5rem;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.04);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 16px;
      padding: 1.5rem;
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-4px);
      background: rgba(255, 255, 255, 0.08);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* Footer */
    .footer {
      margin-top: 3rem;
      text-align: center;
      color: var(--text-secondary);
      font-size: 0.9rem;
      opacity: 0.7;
    }

    /* Responsive */
    @media (max-width: 768px) {
      body {
        padding: 1rem;
      }
      
      .header {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
        margin-bottom: 2rem;
      }
      
      .title-group h1 {
        font-size: 2rem;
      }
      
      .quiz-card {
        padding: 2rem;
      }
      
      .question {
        font-size: 1.25rem;
      }
      
      .controls {
        flex-direction: column;
        gap: 1rem;
      }
      
      .btn {
        width: 100%;
      }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="logo">Qv3</div>
      <div>
        <h1>QuizAppV3 — Développement informatique 🚀</h1>
        <p class="lead">20 questions — Choix multiples — Conçu pour apprendre vite.</p>
      </div>
    </header>

    <div class="card" id="app">
      <div class="question-meta">
        <div class="small">Question <strong id="qIndex">1</strong>/60</div>
        <div style="display:flex;align-items:center;gap:8px">
          <div class="small">Score: <span id="score">0</span></div>
          <div class="progress" aria-hidden="true"><i id="progressBar"></i></div>
        </div>
      </div>

      <div>
        <div class="q" id="questionText">...chargement</div>
        <div class="options" id="options"></div>
      </div>

      <div class="controls">
        <button class="btn" id="prevBtn">⬅️ Précédent</button>
        <div style="display:flex;gap:8px">
          <button class="btn" id="showAnsBtn">Voir réponse</button>
          <button class="btn primary" id="nextBtn">Suivant ➡️</button>
        </div>
      </div>

      <div class="result" id="resultBox">
        <div class="score" id="finalScore">0 / 60</div>
        <div class="breakdown">
          <div class="card-mini">✅ Corrects: <strong id="correctCount">0</strong></div>
          <div class="card-mini">❌ Incorrects: <strong id="wrongCount">0</strong></div>
        </div>
        <div class="small">Explications en bas — clique sur une question pour revoir.</div>
        <div style="width:100%;margin-top:8px;text-align:center">
          <button class="btn" id="restartBtn">Refaire le quiz 🔁</button>
          <button class="btn primary" id="reviewBtn">Revoir les explications</button>
        </div>
      </div>

      <div id="explanations" style="margin-top:14px;display:none"></div>

    </div>

    <footer>Créé pour toi, Nathan. Bonne chance ! ✨</footer>
  </div>

  <script>
    const quiz = [
      { q: "1) Qu'est-ce que le HTML ?", options: ["Un langage de style", "Un langage de balisage", "Un langage de programmation", "Un framework JavaScript"], answer: 1, explain: "HTML = HyperText Markup Language, structure le contenu d'une page web." },
      { q: "2) Quel est le rôle du CSS ?", options: ["Gérer la logique côté serveur", "Styliser la présentation d'une page web", "Stocker des données", "Optimiser la base de données"], answer: 1, explain: "CSS s'occupe des couleurs, mise en page, typographie..." },
      { q: "3) Lequel n'est pas un type de boucle en JavaScript ?", options: ["for", "while", "loop", "do...while"], answer: 2, explain: "Il n'y a pas de boucle native appelée 'loop' en JS." },
      { q: "4) Qu'est-ce qu'une fonction pure ?", options: ["Qui utilise le DOM", "Qui n'a pas d'effets secondaires et retourne toujours la même sortie pour la même entrée", "Qui modifie une variable globale", "Qui fait des requêtes réseau"], answer: 1, explain: "Les fonctions pures dépendent seulement de leurs arguments et ne modifient rien à l'extérieur." },
      { q: "5) Que signifie O(n) ?", options: ["Complexité constante", "Complexité linéaire", "Complexité quadratique", "Complexité logarithmique"], answer: 1, explain: "O(n) : le temps croît linéairement avec la taille n." },
      { q: "6) Git : quelle commande récupère les commits distants sans les fusionner ?", options: ["git pull", "git clone", "git fetch", "git merge"], answer: 2, explain: "git fetch télécharge les données distantes; git pull fait fetch + merge." },
      { q: "7) REST est :", options: ["Un protocole réseau bas-niveau", "Un style architectural pour APIs", "Un langage de programmation", "Une base de données"], answer: 1, explain: "REST définit des conventions pour construire des APIs HTTP." },
      { q: "8) Quel header HTTP est utilisé pour indiquer le type de contenu ?", options: ["Authorization", "Content-Type", "Accept-Language", "Cache-Control"], answer: 1, explain: "Content-Type indique 'application/json', 'text/html', etc." },
      { q: "9) SQL injection : c'est quoi ?", options: ["Un test de performance SQL", "Une attaque qui injecte du SQL malveillant", "Un pattern de design", "Un type d'index"], answer: 1, explain: "L'attaque insère du SQL via des entrées non-sanitized." },
      { q: "10) Qu'est-ce qu'une closure en JavaScript ?", options: ["Une variable globale", "Une fonction qui rappelle une autre fonction", "Une fonction qui garde l'accès à son scope même après exécution", "Un type d'objet"], answer: 2, explain: "Une closure capture son environnement lexical." },
      { q: "11) Quelle est la différence principale entre let et var en JS ?", options: ["let est bloqué par le scope de bloc, var non", "var est asynchrone", "let crée des variables globales", "var n'existe pas en ES5"], answer: 0, explain: "let respecte le scope de bloc { }, var est function-scoped." },
      { q: "12) Quel est l'intérêt d'un index en base de données ?", options: ["Augmenter la taille de la DB", "Accélérer les recherches", "Supprimer les lignes dupliquées", "Crypter les données"], answer: 1, explain: "Les index accélèrent les SELECT mais ralentissent parfois INSERT/UPDATE." },
      { q: "13) Quel pattern est utilisé pour séparer interface et implémentation (ex : controller/view) ?", options: ["Singleton", "Factory", "MVC", "Observer"], answer: 2, explain: "MVC = Model-View-Controller sépare logique / interface / données." },
      { q: "14) Que fait 'async/await' en JS ?", options: ["Rend une fonction synchrone", "Permet d'écrire du code asynchrone façon synchrone", "Crée des threads", "Bloque l'UI"], answer: 1, explain: "async/await facilite la lecture du code asynchrone basé sur Promises." },
      { q: "15) Test unitaire = ?", options: ["Test global du produit", "Test d'une petite unité de code (fonction, module)", "Test d'intégration réseau", "Test de charge"], answer: 1, explain: "Les tests unitaires vérifient des fonctions/méthodes isolées." },
      { q: "16) Qu'est-ce qu'un endpoint API idempotent ?", options: ["Ne modifie jamais rien", "Produit le même effet peu importe le nombre de requêtes", "Est toujours sécurisé", "Retourne toujours 200"], answer: 1, explain: "Idempotent = répéter la même demande donne le même résultat d'état." },
      { q: "17) Qu'est-ce que le DOM ?", options: ["Document Object Model", "Distributed Object Manager", "Data Oriented Module", "Dynamic Onload Manager"], answer: 0, explain: "DOM représente la structure HTML en objets manipulables par JS." },
      { q: "18) Quel est l'algorithme de tri moyen le plus utilisé pour son équilibre simplicité/perf ?", options: ["Bubble sort", "Selection sort", "QuickSort", "Bogosort"], answer: 2, explain: "QuickSort est souvent très rapide en pratique (pivot choisi correctement)." },
      { q: "19) Que fait CORS ?", options: ["Autorise ou bloque les requêtes cross-origin côté navigateur", "Chiffre les données", "Gère l'authentification", "Compresse les réponses HTTP"], answer: 0, explain: "CORS est un mécanisme de sécurité du navigateur contrôlant l'accès cross-origin." },
      { q: "20) Quelle est la meilleure pratique pour stocker des mots de passe ?", options: ["En clair dans la DB", "Hash + salt (ex: bcrypt)", "Dans un fichier texte", "Base64 encoding"], answer: 1, explain: "Toujours hasher et saler les mots de passe; ne pas stocker en clair." },
      { q: "21) Quelle balise HTML est utilisée pour inclure du JavaScript ?", options: ["<style>", "<js>", "<script>", "<code>"], answer: 2, explain: "La balise <script> permet d'inclure ou d'écrire du JavaScript dans une page HTML." },
      { q: "22) Que signifie JSON ?", options: ["Java Source Object Notation", "JavaScript Object Notation", "Java Syntax Over Network", "Joined Syntax Of Nodes"], answer: 1, explain: "JSON = JavaScript Object Notation, format léger d’échange de données." },
      { q: "23) Que fait 'npm install' ?", options: ["Lance le serveur Node", "Installe les dépendances du projet", "Compile le code", "Crée un repo Git"], answer: 1, explain: "npm install installe les packages listés dans package.json." },
      { q: "24) Que signifie HTTP ?", options: ["HyperText Transfer Protocol", "High Transfer Text Protocol", "Hyper Tool Transfer Process", "Host Transfer Protocol"], answer: 0, explain: "HTTP = HyperText Transfer Protocol, utilisé pour le web." },
      { q: "25) Quelle méthode SQL ajoute une nouvelle ligne dans une table ?", options: ["INSERT INTO", "ADD NEW", "CREATE ROW", "UPDATE"], answer: 0, explain: "INSERT INTO permet d’ajouter une ligne dans une table SQL." },
      { q: "26) Que fait la commande 'git status' ?", options: ["Montre les fichiers modifiés/en attente", "Supprime un commit", "Télécharge les fichiers distants", "Lance le serveur"], answer: 0, explain: "git status montre les fichiers modifiés, staged, ou non suivis." },
      { q: "27) En programmation, que fait l’opérateur modulo (%) ?", options: ["Renvoie la division entière", "Renvoie le reste d'une division", "Renvoie le carré d'un nombre", "Renvoie l’arrondi"], answer: 1, explain: "Modulo donne le reste d’une division entière." },
      { q: "28) Qu’est-ce qu’un framework ?", options: ["Un langage", "Une librairie graphique", "Un ensemble d’outils structurants pour développer", "Un IDE"], answer: 2, explain: "Un framework fournit une structure et des conventions pour développer." },
      { q: "29) Quelle est la différence entre HTTP et HTTPS ?", options: ["Aucune", "HTTPS chiffre les échanges", "HTTPS est plus rapide", "HTTP est pour les mobiles"], answer: 1, explain: "HTTPS = HTTP sécurisé avec chiffrement SSL/TLS." },
      { q: "30) En CSS, que signifie 'em' ?", options: ["Unité relative à la taille de la police parent", "Unité fixe de 10px", "Unité basée sur le viewport", "Unité absolue"], answer: 0, explain: "1em = taille de la police de l’élément parent." },
      { q: "31) Quelle commande MySQL permet de supprimer une table ?", options: ["DELETE TABLE", "REMOVE", "DROP TABLE", "TRUNCATE"], answer: 2, explain: "DROP TABLE supprime complètement la table et ses données." },
      { q: "32) Quelle est la valeur par défaut de 'flex-direction' en CSS Flexbox ?", options: ["row", "column", "row-reverse", "inherit"], answer: 0, explain: "Par défaut, flex-direction est 'row' (alignement horizontal)." },
      { q: "33) Que signifie API ?", options: ["Application Process Integration", "Advanced Program Interface", "Application Programming Interface", "Applied Protocol Instance"], answer: 2, explain: "API = Application Programming Interface, permet d’interagir avec un service." },
      { q: "34) En JavaScript, que renvoie typeof null ?", options: ["'null'", "'undefined'", "'object'", "'number'"], answer: 2, explain: "typeof null renvoie 'object' (bug historique de JS)." },
      { q: "35) Que fait 'console.log()' ?", options: ["Affiche dans l’UI", "Affiche dans la console développeur", "Affiche dans le backend", "Envoie une alerte"], answer: 1, explain: "console.log affiche des infos dans la console du navigateur." },
      { q: "36) Quelle propriété CSS arrondit les angles ?", options: ["border", "padding", "border-radius", "box-shadow"], answer: 2, explain: "border-radius permet de faire des coins arrondis." },
      { q: "37) Quel est l’intérêt des promesses (Promises) en JS ?", options: ["Accélérer le code", "Gérer l’asynchrone plus facilement", "Créer des threads", "Améliorer le CSS"], answer: 1, explain: "Les Promises simplifient la gestion des opérations asynchrones." },
      { q: "38) Que fait 'SELECT * FROM users;' en SQL ?", options: ["Sélectionne une colonne", "Supprime la table", "Sélectionne toutes les colonnes de la table users", "Crée un index"], answer: 2, explain: "SELECT * récupère toutes les colonnes de la table." },
      { q: "39) Quelle commande supprime un fichier avec Git ?", options: ["git remove", "git rm", "git delete", "git erase"], answer: 1, explain: "git rm supprime un fichier de l’index et du repo." },
      { q: "40) Qu’est-ce qu’un IDE ?", options: ["Un compilateur", "Un environnement de développement intégré", "Un langage de programmation", "Un protocole"], answer: 1, explain: "IDE = Integrated Development Environment (ex : VS Code, IntelliJ)." },
      { q: "41) En CSS, que fait 'position: absolute;' ?", options: ["Place l’élément selon le flux normal", "Place l’élément par rapport à son parent positionné", "Le fixe à l’écran", "Le cache"], answer: 1, explain: "absolute se positionne par rapport au parent le plus proche en positionné." },
      { q: "42) Quelle balise HTML définit un lien hypertexte ?", options: ["<a>", "<link>", "<href>", "<url>"], answer: 0, explain: "La balise <a> sert à créer des liens." },
      { q: "43) En Node.js, que fait 'require()' ?", options: ["Importe un module", "Crée une variable", "Supprime un fichier", "Compile du JS"], answer: 0, explain: "require() sert à importer un module dans Node.js." },
      { q: "44) Qu’est-ce qu’un cookie web ?", options: ["Une base de données locale", "Un fichier stockant de petites données côté client", "Un script malveillant", "Un plugin"], answer: 1, explain: "Un cookie stocke des infos (session, préférences) côté client." },
      { q: "45) Quelle méthode JavaScript permet de transformer un JSON en objet ?", options: ["JSON.decode()", "JSON.parse()", "JSON.stringify()", "JSON.toObject()"], answer: 1, explain: "JSON.parse() convertit une chaîne JSON en objet JS." },
      { q: "46) Qu’est-ce que le responsive design ?", options: ["Adapter une page à plusieurs tailles d’écrans", "Rendre le site plus rapide", "Améliorer le SEO", "Supprimer les images"], answer: 0, explain: "Le responsive adapte le design selon mobile/tablette/PC." },
      { q: "47) En JavaScript, que fait 'setInterval()' ?", options: ["Exécute une fonction une seule fois", "Exécute une fonction régulièrement à intervalle défini", "Supprime une fonction", "Pause le script"], answer: 1, explain: "setInterval exécute une fonction toutes les X ms." },
      { q: "48) Qu’est-ce que le Big-O ?", options: ["Notation de complexité algorithmique", "Notation de base de données", "Type de variable", "Protocole réseau"], answer: 0, explain: "Big-O mesure la complexité en temps/espace d’un algo." },
      { q: "49) En SQL, que fait 'JOIN' ?", options: ["Fusionne deux tables selon une condition", "Ajoute une ligne", "Supprime une colonne", "Trie les résultats"], answer: 0, explain: "JOIN combine des données de plusieurs tables selon une relation." },
      { q: "50) Quelle méthode JS convertit un tableau en chaîne ?", options: ["toString()", "array.join()", "concat()", "stringify()"], answer: 1, explain: "join() permet de créer une chaîne à partir des éléments d’un tableau." },
      { q: "51) Que fait 'npm init' ?", options: ["Installe Node.js", "Crée un nouveau projet Node et un package.json", "Lance un script", "Met à jour npm"], answer: 1, explain: "npm init initialise un projet avec package.json." },
      { q: "52) Quelle est la différence entre HTTP GET et POST ?", options: ["Aucune", "GET envoie dans l’URL, POST dans le body", "POST est plus rapide", "GET chiffre automatiquement"], answer: 1, explain: "GET = paramètres dans l’URL, POST = paramètres dans le body." },
      { q: "53) Quelle commande Linux liste les fichiers ?", options: ["cd", "ls", "pwd", "rm"], answer: 1, explain: "ls affiche les fichiers dans le répertoire courant." },
      { q: "54) Que fait 'const' en JS ?", options: ["Crée une variable constante", "Crée une variable globale", "Crée une fonction", "Définit un objet"], answer: 0, explain: "const crée une variable qui ne peut pas être réaffectée." },
      { q: "55) Quelle est la différence entre frontend et backend ?", options: ["Frontend = client, Backend = serveur", "Frontend = serveur, Backend = client", "Les deux sont identiques", "Backend = base de données uniquement"], answer: 0, explain: "Frontend gère l’affichage côté client, backend la logique côté serveur." },
      { q: "56) Qu’est-ce qu’un serveur proxy ?", options: ["Un cache entre client et serveur", "Un langage de programmation", "Un protocole web", "Une BDD"], answer: 0, explain: "Un proxy agit comme intermédiaire entre client et serveur." },
      { q: "57) En HTML5, quelle balise définit une section indépendante ?", options: ["<div>", "<span>", "<section>", "<article>"], answer: 2, explain: "<section> définit une partie autonome du contenu." },
      { q: "58) Quelle méthode supprime le dernier élément d’un tableau JS ?", options: ["pop()", "shift()", "splice()", "remove()"], answer: 0, explain: "pop() enlève le dernier élément d’un tableau." },
      { q: "59) Que fait 'try...catch' en JS ?", options: ["Boucle sur les erreurs", "Gère les exceptions", "Crée un test unitaire", "Supprime les erreurs"], answer: 1, explain: "try...catch permet de capturer et gérer les erreurs." },
      { q: "60) Quelle est la fonction principale de DNS ?", options: ["Stocker des mails", "Traduire des noms de domaine en adresses IP", "Sécuriser HTTP", "Héberger un site"], answer: 1, explain: "Le DNS fait la correspondance entre noms de domaine et adresses IP." },

    ];

    // State
    let index = 0;
    let score = 0;
    const answers = Array(quiz.length).fill(null);

    const qIndexEl = document.getElementById('qIndex');
    const questionText = document.getElementById('questionText');
    const optionsEl = document.getElementById('options');
    const scoreEl = document.getElementById('score');
    const progressBar = document.getElementById('progressBar');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const showAnsBtn = document.getElementById('showAnsBtn');
    const resultBox = document.getElementById('resultBox');
    const finalScore = document.getElementById('finalScore');
    const correctCountEl = document.getElementById('correctCount');
    const wrongCountEl = document.getElementById('wrongCount');
    const restartBtn = document.getElementById('restartBtn');
    const reviewBtn = document.getElementById('reviewBtn');
    const explanationsEl = document.getElementById('explanations');

    function render() {
      const cur = quiz[index];
      qIndexEl.textContent = index + 1;
      questionText.textContent = cur.q;
      optionsEl.innerHTML = '';
      cur.options.forEach((opt, i) => {
        const div = document.createElement('label');
        div.className = 'option';
        div.innerHTML = `<input type="radio" name="opt" value="${i}" ${answers[index] === i ? 'checked' : ''}/> <span>${opt}</span>`;
        div.onclick = () => select(i);
        optionsEl.appendChild(div);
      });

      progressBar.style.width = `${((index) / quiz.length) * 100}%`;
      prevBtn.disabled = index === 0;
      if (index === quiz.length - 1) { nextBtn.textContent = 'Terminer ✅'; } else { nextBtn.textContent = 'Suivant ➡️'; }
      updateScoreDisplay();
    }

    function select(i) {
      // set answer for current q
      if (answers[index] === null) { // first time selecting
        answers[index] = i;
        if (i === quiz[index].answer) { score++; }
      } else {
        // change answer adjust score
        if (answers[index] === quiz[index].answer) score--; // previously correct
        answers[index] = i;
        if (i === quiz[index].answer) score++;
      }
      updateScoreDisplay();
      // mark selected radio
      const radios = optionsEl.querySelectorAll('input');
      radios.forEach(r => r.checked = r.value == i);
      // auto-advance a bit
      setTimeout(() => {
        // do nothing; keep user control
      }, 120);
    }

    function updateScoreDisplay() { scoreEl.textContent = score; }

    prevBtn.addEventListener('click', () => {
      if (index > 0) { index--; render(); }
    });

    nextBtn.addEventListener('click', () => {
      if (index < quiz.length - 1) { index++; render(); }
      else finish();
    });

    showAnsBtn.addEventListener('click', () => {
      const correct = quiz[index].answer;
      const opts = optionsEl.querySelectorAll('.option');
      opts.forEach((el, i) => {
        el.style.border = '1px solid rgba(255,255,255,.02)';
        el.style.opacity = '0.9';
        if (i === correct) { el.style.border = '2px solid var(--accent)'; }
        if (answers[index] === i) { // user choice
          if (i === correct) el.style.background = 'linear-gradient(90deg, rgba(110,231,183,.08), rgba(96,165,250,.06))';
          else el.style.background = 'linear-gradient(90deg, rgba(255,102,102,.04), rgba(255,102,102,.02))';
        }
      });
    });

    function finish() {
      // show result
      resultBox.style.display = 'flex';
      explanationsEl.style.display = 'none';
      finalScore.textContent = `${score} / ${quiz.length}`;
      const corrects = answers.reduce((acc, a, i) => acc + (a === quiz[i].answer ? 1 : 0), 0);
      correctCountEl.textContent = corrects;
      wrongCountEl.textContent = quiz.length - corrects;
      // save highscore
      try { const hs = localStorage.getItem('QuizAppV3_highscore') || 0; if (score > Number(hs)) localStorage.setItem('QuizAppV3_highscore', score); } catch (e) { }
      // build explanations
      buildExplanations();
      // scroll to result
      resultBox.scrollIntoView({ behavior: 'smooth' });
    }

    function buildExplanations() {
      explanationsEl.innerHTML = '';
      quiz.forEach((item, i) => {
        const wrap = document.createElement('div');
        wrap.className = 'card-mini';
        wrap.style.marginTop = '8px';
        const correct = item.answer;
        const user = answers[i] === null ? 'Non répondu' : item.options[answers[i]];
        wrap.innerHTML = `<strong>Q${i + 1}:</strong> ${item.q}<br>
          <em>Réponse correcte:</em> ${item.options[correct]}<br>
          <em>Ta réponse:</em> ${user}<br>
          <div style="margin-top:6px;color:var(--muted)">${item.explain}</div>`;
        wrap.onclick = () => { index = i; resultBox.style.display = 'none'; render(); window.scrollTo({ top: 0, behavior: 'smooth' }); };
        explanationsEl.appendChild(wrap);
      });
    }

    restartBtn.addEventListener('click', () => {
      index = 0; score = 0; answers.fill(null); resultBox.style.display = 'none'; explanationsEl.style.display = 'none'; render();
    });

    reviewBtn.addEventListener('click', () => {
      explanationsEl.style.display = 'block';
      explanationsEl.scrollIntoView({ behavior: 'smooth' });
    });

    // init
    render();

  </script>
</body>

</html>
